<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guildovní Loterie</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Přidán nový font "Cinzel Decorative" pro ještě epičtější nadpis -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            /* Pozadí inspirované tvým obrázkem */
            background-color: #1a0229;
            background-image: radial-gradient(circle at top center, rgba(126, 34, 206, 0.3), transparent 50%),
                              radial-gradient(circle at bottom left, rgba(147, 51, 234, 0.2), transparent 60%),
                              radial-gradient(circle at bottom right, rgba(91, 33, 182, 0.2), transparent 70%);
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
        }
        .text-pink-glow {
            color: #f0abfc; /* Světle fialová/růžová */
        }
        .card {
            background-color: rgba(31, 41, 55, 0.7); /* Lehce průhledné karty */
            border: 1px solid #8b5cf6; /* Fialový okraj */
            backdrop-filter: blur(5px); /* Efekt rozmazaného skla */
        }
        .winner-row {
            background-color: #166534 !important; /* Tmavě zelená pro vítěze */
            color: #f0fdf4;
        }
        .winner-row td {
            font-weight: bold;
        }
        thead th {
            background-color: rgba(17, 24, 39, 0.7);
            border-bottom: 2px solid #8b5cf6;
        }
        .title-font {
            font-family: 'Cinzel Decorative', serif; /* Aplikace nového fontu */
            color: #f0abfc;
            text-shadow: 0 0 5px #e9d5ff, 0 0 10px #c084fc, 0 0 15px #a855f7;
        }
        /* Styl pro logo */
        .logo-emblem {
            border-radius: 9999px; /* Udělá z toho kruh */
            border: 3px solid #a855f7; /* Fialový rámeček */
            padding: 0.5rem; /* Odsazení loga od rámečku */
            background-color: #111827; /* Tmavý podklad pod logo */
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.6); /* Fialová záře */
        }
    </style>
</head>
<body class="text-gray-200">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">

        <!-- HLAVIČKA -->
        <header class="text-center mb-10">
            <!-- 
                TENTO ODKAZ TEĎ UKAZUJE NA SOUBOR "logo.png", KTERÝ MUSÍ BÝT NAHRANÝ
                PŘÍMO V TVÉM GITHUB PROJEKTU. UŽ ŽÁDNÝ IMGUR!
            -->
            <img src="logo.png" alt="Logo Tenebrisia" class="mx-auto mb-6 h-28 w-28 logo-emblem">
            
            <h1 class="text-4xl md:text-6xl font-bold uppercase tracking-wider title-font">Guildovní Loterie Tenebrisia</h1>
            <p id="date-display" class="text-lg text-gray-400 mt-2"></p>
        </header>

        <!-- KARTY S INFORMACEMI -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10 text-center">
            <div class="card rounded-lg p-6">
                <h2 class="text-xl font-bold text-gray-400">💰 Jackpot Týdne 💰</h2>
                <p id="jackpot-amount" class="text-4xl font-bold text-pink-glow mt-2">... g</p>
                <p class="text-sm text-gray-500 mt-1">(60% z nově vsazených peněz)</p>
                <p id="rollover-info" class="text-sm text-cyan-400 mt-1"></p>
            </div>
            <div class="card rounded-lg p-6">
                <h2 class="text-xl font-bold text-gray-400">🎲 Vítězné Číslo 🎲</h2>
                <p id="winning-number-display" class="text-4xl font-bold text-white mt-2">?</p>
                <p class="text-sm text-gray-500 mt-1">(Losování v pátek)</p>
            </div>
            <div class="card rounded-lg p-6">
                <h2 class="text-xl font-bold text-gray-400">🏆 Vítěz(ové) 🏆</h2>
                <p id="winner-name" class="text-4xl font-bold text-green-400 mt-2">...</p>
                <p class="text-sm text-gray-500 mt-1">(Gratulujeme!)</p>
            </div>
        </div>

        <!-- TABULKA SE SÁZKAMI -->
        <div class="card rounded-lg p-4 sm:p-6 overflow-x-auto">
            <h2 class="text-2xl font-bold text-center mb-6">Seznam sázek</h2>
            <table class="w-full text-left">
                <thead class="">
                    <tr>
                        <th class="p-3 text-sm font-semibold tracking-wide text-center">#</th>
                        <th class="p-3 text-sm font-semibold tracking-wide">Hráč</th>
                        <th class="p-3 text-sm font-semibold tracking-wide text-center">Vklad (g)</th>
                        <th class="p-3 text-sm font-semibold tracking-wide text-center">Vsazené Číslo</th>
                        <th class="p-3 text-sm font-semibold tracking-wide">Poznámka</th>
                    </tr>
                </thead>
                <tbody id="lottery-table-body" class="divide-y divide-gray-700">
                    <!-- Tabulka se vygeneruje automaticky pomocí skriptu níže -->
                </tbody>
            </table>
        </div>
        
    </div>

<script>
// ===================================================================================
// ZDE ZAČÍNÁ TVOJE PRACOVNÍ PLOCHA, VAULT MASTERE!
// ===================================================================================

// KROK 1: Po losování sem zadej vítězné číslo.
const winningNumber = null;

// KROK 2: Sem napiš výchozí vklad pro jednoho hráče.
const entryFee = 5000;

// KROK 3: POKUD NIKDO MINULÝ TÝDEN NEVYHRÁL, zadej sem částku jackpotu, která se přenáší.
const jackpotRollover = 0;

// KROK 4: Zde je seznam členů guildy. Měníš ho jen když někdo přijde/odejde.
const guildRoster = [
    'Exsqueez', 'Luxes', 'Arny', 'Suzu', 'Vecty', 'Cikynxd',
    'Kubiinho', 'MoonexeKarel', 'Prochy', 'Tony101', 'Maxýý', 'Lord Inquisittor', 'Artimik', 'Adamekdave', 'Ja_Jsem_Tucnakk'
];

// KROK 5: Zde je seznam SÁZEK pro aktuální týden.
// PRO RESET TÝDNE: Jednoduše smaž všechny řádky a necháš jen prázdné `const bets = [];`
// Když někdo vsadí, přidáš ho sem.
const bets = [ { name: 'Exsqueez', bet: 137 }, { name: 'Arny', bet: 66 }, { name: 'Suzu', bet: 13 }, { name: 'Cikynxd', bet: 23 }, { name: 'Artimik', bet: 5 }
    // { name: 'JménoHráče', bet: ČÍSLO },
    // Příklad: { name: 'Arny', bet: 137 },
];


// ===================================================================================
// TÉTO ČÁSTI POD TÍMTO ŘÁDKEM SE UŽ NEDOTÝKEJ (AUTOMATICKÁ MAGIE)
// ===================================================================================

document.addEventListener('DOMContentLoaded', function() {
    // --- AUTOMATICKÁ AKTUALIZACE TÝDNE ---
    const getWeekInfo = () => {
        const now = new Date();
        const startOfYear = new Date(now.getFullYear(), 0, 1);
        const pastDaysOfYear = (now - startOfYear) / 86400000;
        const weekNumber = Math.ceil((pastDaysOfYear + startOfYear.getDay() + 1) / 7);
        return `Týden ${weekNumber}`;
    };
    document.getElementById('date-display').textContent = getWeekInfo();
    // --- KONEC SEKCE S TÝDNEM ---


    const tableBody = document.getElementById('lottery-table-body');
    const winners = [];

    // Zobrazení všech členů z rosteru
    guildRoster.forEach((playerName, index) => {
        const playerBet = bets.find(b => b.name === playerName);
        const hasPaid = !!playerBet;
        const betNumber = hasPaid ? playerBet.bet : 0;
        
        const row = document.createElement('tr');
        const isEven = index % 2 === 1;
        const isWinner = winningNumber !== null && hasPaid && betNumber === winningNumber;

        row.className = isEven ? 'bg-gray-900/50 hover:bg-gray-800/70' : 'hover:bg-gray-800/70';

        if (isWinner) {
            row.classList.add('winner-row');
            row.classList.add('hover:bg-green-800');
            winners.push(playerName);
        }
        
        const noteText = hasPaid ? 'Zaplaceno' : 'Nezaplaceno';
        let noteColorClass = hasPaid ? 'text-green-400' : 'text-yellow-400';
        let finalNote = noteText;
        
        if(isWinner) {
            finalNote = 'VÍTĚZ!';
            noteColorClass = '';
        }

        row.innerHTML = `
            <td class="p-3 text-sm text-gray-400 text-center">${index + 1}</td>
            <td class="p-3 text-sm font-bold">${playerName}</td>
            <td class="p-3 text-sm text-center">${entryFee.toLocaleString('cs-CZ')}</td>
            <td class="p-3 text-sm text-center font-mono">${betNumber}</td>
            <td class="p-3 text-sm ${noteColorClass}">${finalNote}</td>
        `;
        tableBody.appendChild(row);
    });

    // Aktualizace horních karet
    const payingPlayersCount = bets.length;
    const currentWeekPot = payingPlayersCount * entryFee;
    const prizePool = currentWeekPot * 0.6;
    const totalJackpot = jackpotRollover + prizePool;

    document.getElementById('jackpot-amount').textContent = `${totalJackpot.toLocaleString('cs-CZ')}g`;
    document.getElementById('winning-number-display').textContent = winningNumber !== null ? winningNumber : '?';
    
    let winnerText = 'Zatím nikdo';
    if (winners.length > 0) {
        winnerText = winners.join(', ');
    } else if (winningNumber !== null) {
        winnerText = 'Nikdo nevyhrál!';
    }
    document.getElementById('winner-name').textContent = winnerText;
    
    const rolloverInfo = document.getElementById('rollover-info');
    if (jackpotRollover > 0) {
        rolloverInfo.textContent = `(Včetně ${jackpotRollover.toLocaleString('cs-CZ')}g z minulého týdne)`;
    }
});
</script>

</body>
</html>

